{"version":3,"file":"commonHelpers.js","sources":["../src/search.js","../src/main.js"],"sourcesContent":[" const search = qvery => {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const searchParams = new URLSearchParams({\n        key: '35439381-dc6c31f5e4218074de9a0ab23',\n        q : qvery,\n        image_type:  'photo',\n        orientation : 'horizontal',\n        safesearch :  true,\n    });\n    const url = `${BASE_URL}${END_POINT}?${searchParams}`\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n}\n\nexport default search;","import axios from \"axios\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport search from \"./search\";\n\n\nconsole.log('first')\n\nconst formRef = document.querySelector('.form');\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('.loader');\n\nlet gallery = new SimpleLightbox('.gallery-item a',\n                    {   captionsData: 'alt',\n                        captionPosition: 'bottom',\n                        captionDelay: 250});\n\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    galleryRef.innerHTML = '';\n    loaderRef.classList.remove('is-hidden');\n    const searchQuery = formRef.elements.search.value.trim();\n\n    search(searchQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                return iziToast.error({\n                    position: 'topRight',\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                })\n            } else {\n                markup(data.hits)\n                gallery.on('show.simplelightbox');\n                gallery.refresh();\n            }\n            \n        })\n        .catch(error => {\n\t\t    console.log(error);\n        }).finally(() => {\n            loaderRef.classList.add('is-hidden')\n        });\n    \n    formRef.reset();\n}\n\nfunction markup(arr) {\n    const mark  = arr.map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\"> \n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                <div class=\"wrap\">\n                    <p><b>Likes:</b> </br>${likes}</p>\n                    <p><b>Views:</b> </br>${views}</p>\n                    <p><b>Coments:</b> </br>${comments}</p>\n                    <p><b>Downloads:</b> </br>${downloads}</p>\n                </div>\n            </a>\n        </li>`\n    }).join('')\n\n    galleryRef.innerHTML = mark;\n}\n\n\n"],"names":["search","qvery","BASE_URL","END_POINT","searchParams","url","response","formRef","galleryRef","loaderRef","gallery","SimpleLightbox","onFormSubmit","event","searchQuery","data","iziToast","markup","error","arr","mark","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAAC,MAAMA,EAASC,GAAS,CACrB,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAIH,EACJ,WAAa,QACb,YAAc,aACd,WAAc,EACtB,CAAK,EACKI,EAAM,GAAGH,IAAWC,KAAaC,IAEvC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,ECPA,QAAQ,IAAI,OAAO,EAEnB,MAAMC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAElD,IAAIC,EAAU,IAAIC,EAAe,kBACb,CAAI,aAAc,MACd,gBAAiB,SACjB,aAAc,GAAG,CAAC,EAE1CJ,EAAQ,iBAAiB,SAAUK,CAAY,EAE/C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBL,EAAW,UAAY,GACvBC,EAAU,UAAU,OAAO,WAAW,EACtC,MAAMK,EAAcP,EAAQ,SAAS,OAAO,MAAM,OAElDP,EAAOc,CAAW,EACb,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrB,OAAOC,EAAS,MAAM,CAClB,SAAU,WACV,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDC,EAAOF,EAAK,IAAI,EAChBL,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CAG/B,CAAS,EACA,MAAMQ,GAAS,CAClB,QAAQ,IAAIA,CAAK,CACvB,CAAS,EAAE,QAAQ,IAAM,CACbT,EAAU,UAAU,IAAI,WAAW,CAC/C,CAAS,EAELF,EAAQ,MAAK,CACjB,CAEA,SAASU,EAAOE,EAAK,CACjB,MAAMC,EAAQD,EAAI,IAAI,CAAC,CAAC,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACjF;AAAA,4CAC6BN;AAAA,kDACMC,WAAsBC;AAAA;AAAA,4CAE5BC;AAAA,4CACAC;AAAA,8CACEC;AAAA,gDACEC;AAAA;AAAA;AAAA,cAI3C,EAAE,KAAK,EAAE,EAEVnB,EAAW,UAAYY,CAC3B"}